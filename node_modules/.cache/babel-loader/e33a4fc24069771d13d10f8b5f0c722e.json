{"ast":null,"code":"import _slicedToArray from \"/Users/brendacustodio/Documents/Facul/tcc/atendimento/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/brendacustodio/Documents/Facul/tcc/atendimento/src/pages/AtendimentoPage.js\";\nimport React, { useState, useEffect } from 'react';\nimport logo from '../assets/img/Logos.png';\nimport api from '../services/api';\nimport moment from 'moment-timezone';\nimport socket from 'socket.io-client';\nexport default function AtendimentoPage() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        agendamentos = _useState2[0],\n        setAgendamentos = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        senhas = _useState4[0],\n        setSenhas = _useState4[1];\n\n  const _useState5 = useState(''),\n        _useState6 = _slicedToArray(_useState5, 2),\n        local = _useState6[0],\n        setLocal = _useState6[1];\n\n  const _useState7 = useState(''),\n        _useState8 = _slicedToArray(_useState7, 2),\n        atual = _useState8[0],\n        setAtual = _useState8[1];\n\n  const io = socket('http://localhost:5000');\n  useEffect(() => {\n    async function loadAgendamentos() {\n      if (!local) setLocal('anaRosa');\n      const response = await api.get(\"/getAgendamentos?local=\".concat(local));\n      setAgendamentos(response.data);\n    }\n\n    async function loadSenhas() {\n      if (!local) setLocal('anaRosa');\n      const response = await api.get(\"/getSenhas?local=\".concat(local));\n      setSenhas(response.data);\n    }\n\n    loadAgendamentos();\n    loadSenhas();\n  });\n\n  async function handleAgendamento() {\n    const response = await api.get(\"/chamarAgendamento?local=\".concat(local));\n    setAtual(response.data.ra);\n    io.emit('chamarAgendada', {\n      ra: atual\n    });\n  }\n\n  async function handleSenha() {\n    const response = await api.get(\"/chamarSenha?local=\".concat(local));\n    setAtual(response.data.senha);\n    io.emit('chamarNormal', {\n      senha: response.data.senha\n    });\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"main-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: logo,\n    alt: \"\",\n    height: \"100\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Chamar a pr\\xF3xima senha\"), React.createElement(\"div\", {\n    className: \"guiche\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"Guich\\xEA\"), React.createElement(\"select\", {\n    name: \"guiche\",\n    id: \"guiche\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"1\"), React.createElement(\"option\", {\n    value: \"2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"2\"), React.createElement(\"option\", {\n    value: \"3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"3\"), React.createElement(\"option\", {\n    value: \"4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"4\"), React.createElement(\"option\", {\n    value: \"5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"5\")), \"\\xA0\", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"Local\"), React.createElement(\"select\", {\n    name: \"local\",\n    id: \"local\",\n    onChange: e => setLocal(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"anaRosa\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Ana Rosa\"), React.createElement(\"option\", {\n    value: \"anhangabau\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Vale do Anhangaba\\xFA\"), React.createElement(\"option\", {\n    value: \"predioTres\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Liberdade Pr\\xE9dio 3\"), React.createElement(\"option\", {\n    value: \"saoBernardo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"S\\xE3o Bernardo do Campo\"), React.createElement(\"option\", {\n    value: \"brigadeiro\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"Brigadeiro\"), React.createElement(\"option\", {\n    value: \"predioDez\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Liberade Pr\\xE9dio 10\"), React.createElement(\"option\", {\n    value: \"ponteEstaiada\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Ponte Estaiada\"), React.createElement(\"option\", {\n    value: \"itaimBibi\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"Itaim Bibi\"), React.createElement(\"option\", {\n    value: \"posGraduacao\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Centro de P\\xF3s-Gradua\\xE7\\xE3o\"), React.createElement(\"option\", {\n    value: \"vilaMarianaI\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"Vila Mariana I\"), React.createElement(\"option\", {\n    value: \"vilaMarianaII\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Vila Mariana II\"), React.createElement(\"option\", {\n    value: \"santoAmaro\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"Santo Amaro\"), React.createElement(\"option\", {\n    value: \"morumbi\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"Morumbi\"), React.createElement(\"option\", {\n    value: \"liberdade\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, \"Liberdade\")), \"\\xA0\\xA0\\xA0\", React.createElement(\"a\", {\n    href: \"/lista\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"Ir para o chat\")), React.createElement(\"div\", {\n    className: \"buttons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: handleAgendamento,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Agendada\"), React.createElement(\"button\", {\n    onClick: handleSenha,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"Normal\"), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"Chamar de novo\")), React.createElement(\"div\", {\n    className: \"painel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"senha\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, \"Atual: \", React.createElement(\"span\", {\n    id: \"senha\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, atual)), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, \"Painel de senhas\"), React.createElement(\"div\", {\n    className: \"senhas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"table\", {\n    className: \"agendadas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    colSpan: \"2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \"Agendadas\")), React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \"RA\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \"Hor\\xE1rio\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, agendamentos.map(agendamento => React.createElement(\"tr\", {\n    key: agendamento.ra,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, agendamento.ra), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, moment(agendamento.horaAtendimento).format('HH:mm')))))), React.createElement(\"table\", {\n    className: \"geral\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, \"Geradas\")), React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, \"Senha\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, senhas.map(senha => React.createElement(\"tr\", {\n    key: senha.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, senha.senha)))))))));\n}","map":{"version":3,"sources":["/Users/brendacustodio/Documents/Facul/tcc/atendimento/src/pages/AtendimentoPage.js"],"names":["React","useState","useEffect","logo","api","moment","socket","AtendimentoPage","agendamentos","setAgendamentos","senhas","setSenhas","local","setLocal","atual","setAtual","io","loadAgendamentos","response","get","data","loadSenhas","handleAgendamento","ra","emit","handleSenha","senha","e","target","value","map","agendamento","horaAtendimento","format","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\n\nimport logo from '../assets/img/Logos.png'\nimport api from '../services/api'\nimport moment from 'moment-timezone'\nimport socket from 'socket.io-client'\n\nexport default function AtendimentoPage() {\n    const [agendamentos, setAgendamentos] = useState([])\n    const [senhas, setSenhas] = useState([])\n    const [local, setLocal] = useState('')\n    const [atual, setAtual] = useState('')\n\n    const io = socket('http://localhost:5000')\n\n    useEffect(() => {\n        async function loadAgendamentos() {\n            if(!local)\n                setLocal('anaRosa')\n\n            const response = await api.get(`/getAgendamentos?local=${local}`)\n\n            setAgendamentos(response.data)\n        }\n\n        async function loadSenhas() {\n            if(!local)\n                setLocal('anaRosa')\n\n            const response = await api.get(`/getSenhas?local=${local}`)\n\n            setSenhas(response.data)\n        }\n\n        loadAgendamentos()\n        loadSenhas()\n    })\n\n    async function handleAgendamento() {\n        const response = await api.get(`/chamarAgendamento?local=${local}`)\n\n        setAtual(response.data.ra)\n\n        io.emit('chamarAgendada', {\n            ra: atual\n        })\n    }\n\n    async function handleSenha() {\n        const response = await api.get(`/chamarSenha?local=${local}`)\n\n        setAtual(response.data.senha)\n\n        io.emit('chamarNormal', {\n            senha: response.data.senha\n        })\n    }    \n\n    return (\n        <>\n            <div className=\"main-container\">\n                <img src={logo} alt=\"\" height=\"100\" />\n\n                <p>Chamar a próxima senha</p>\n\n                <div className=\"guiche\">\n                    <span>Guichê</span>\n                    <select name=\"guiche\" id=\"guiche\">\n                        <option value=\"1\">1</option>\n                        <option value=\"2\">2</option>\n                        <option value=\"3\">3</option>\n                        <option value=\"4\">4</option>\n                        <option value=\"5\">5</option>\n                    </select>\n                    &nbsp;\n                    <span>Local</span>\n                    <select name=\"local\" id=\"local\" onChange={e => setLocal(e.target.value)}>\n                        <option value=\"anaRosa\">Ana Rosa</option>\n                        <option value=\"anhangabau\">Vale do Anhangabaú</option>\n                        <option value=\"predioTres\">Liberdade Prédio 3</option>\n                        <option value=\"saoBernardo\">São Bernardo do Campo</option>\n                        <option value=\"brigadeiro\">Brigadeiro</option>\n                        <option value=\"predioDez\">Liberade Prédio 10</option>\n                        <option value=\"ponteEstaiada\">Ponte Estaiada</option>\n                        <option value=\"itaimBibi\">Itaim Bibi</option>\n                        <option value=\"posGraduacao\">Centro de Pós-Graduação</option>\n                        <option value=\"vilaMarianaI\">Vila Mariana I</option>\n                        <option value=\"vilaMarianaII\">Vila Mariana II</option>\n                        <option value=\"santoAmaro\">Santo Amaro</option>\n                        <option value=\"morumbi\">Morumbi</option>\n                        <option value=\"liberdade\">Liberdade</option>\n                    </select>\n                    &nbsp;&nbsp;&nbsp;\n                    <a href=\"/lista\">Ir para o chat</a>\n                </div>\n\n                <div className=\"buttons\">\n                    <button onClick={handleAgendamento}>Agendada</button>\n                    <button onClick={handleSenha}>Normal</button>\n                    <button>Chamar de novo</button>\n                </div>\n\n                <div className=\"painel\">\n                    <div className=\"senha\">\n                        Atual: <span id=\"senha\">{ atual }</span>\n                    </div>\n                    <p>Painel de senhas</p>\n                    <div className=\"senhas\">\n                        <table className=\"agendadas\">\n                            <thead>\n                                <tr>\n                                    <th colSpan=\"2\">Agendadas</th>\n                                </tr>\n                                <tr>\n                                    <th>RA</th>\n                                    <th>Horário</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {agendamentos.map(agendamento => (\n                                    <tr key={agendamento.ra}>\n                                        <td>{agendamento.ra}</td>\n                                        <td>{moment(agendamento.horaAtendimento).format('HH:mm')}</td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                        <table className=\"geral\">\n                            <thead>\n                                <tr>\n                                    <th>Geradas</th>\n                                </tr>\n                                <tr>\n                                    <th>Senha</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {senhas.map(senha => (\n                                    <tr key={senha.id}>\n                                        <td>{ senha.senha }</td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}